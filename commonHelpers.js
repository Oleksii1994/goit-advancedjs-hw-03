import{a as l,i as h,S as f}from"./assets/vendor-443edb3d.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();l.defaults.headers.common["x-api-key"]="live_KDjowYAaFCSgvZaRHoH7SlZdcXdU0AmY9ho0T0LOMwznNJeRDQUi51iP6oVW60Xc";function m(){return l.get("https://api.thecatapi.com/v1/breeds").then(e=>{if(!e.data)throw new Error;return e.data}).catch(e=>{console.log(e),h.error({message:"Oops! Something went wrong! Try to reload the page!",position:"topRight"})})}function p(e){return l.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${e}`).then(r=>{if(!r.data)throw new Error;return r.data}).catch(r=>{console.log(r),h.error({message:"Oops! Something went wrong! Try to reload the page!",position:"topRight"})})}const n=document.querySelector(".loader"),c=document.querySelector(".breed-select"),d=document.querySelector(".cat-info");let u=!0;n.classList.remove("is-hidden");c.addEventListener("change",L);const g=m().then(e=>{if(!e)throw c.classList.add("is-hidden"),n.classList.add("is-hidden"),new Error;new f({select:"#single",data:e.map(r=>({text:r.name,value:r.id}))}),n.classList.add("is-hidden"),c.classList.remove("is-hidden")}).catch(e=>console.log(e));function L(e){if(e.preventDefault(),n.classList.remove("is-hidden"),d.innerHTML="",!g){c.classList.add("is-hidden");return}if(u){u=!1;return}const{value:r}=e.currentTarget;p(r).then(s=>{if(!s)throw n.classList.add("is-hidden"),new Error;d.insertAdjacentHTML("beforeend",w(s)),d.classList.remove("is-hidden"),n.classList.add("is-hidden")}).catch(s=>console.log(s.message))}function w(e){const{url:r}=e[0],{description:s,name:i,temperament:t}=e[0].breeds[0];return`<img src="${r}" alt="${i} cat" width="400" height="auto"/><div class="breed-text-info"><h1>${i}</h1><p class="description">${s}</p><p><strong>Temperament:</strong> ${t}</p></div>`}
//# sourceMappingURL=commonHelpers.js.map
